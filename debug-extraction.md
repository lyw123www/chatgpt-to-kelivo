# 调试提取问题

## 问题描述

导出的 ChatGPT 对话内容不完整，列表项丢失。

## 可能的原因

1. **内容容器选择不正确**
   - 选择的容器没有包含完整内容
   - 某些内容在容器外部

2. **HTML 转 Markdown 转换问题**
   - 列表处理逻辑有bug
   - 某些HTML结构没有被正确识别

3. **内容被过滤掉**
   - 被当作噪音过滤
   - 被移除选择器误删

## 调试步骤

### 1. 检查内容容器
- 添加日志输出容器的子元素数量
- 输出容器的 HTML 结构预览

### 2. 检查 HTML 转 Markdown
- 添加调试模式参数
- 输出处理每个元素的日志
- 特别关注列表（ul/ol/li）的处理

### 3. 对比原始和转换后的内容
- 输出原始 HTML
- 输出转换后的 Markdown
- 找出丢失的部分

## 已添加的调试功能

1. ✅ 在 `htmlToMarkdown` 函数中添加 `debug` 参数
2. ✅ 输出容器的子元素数量
3. ✅ 输出内容元素的 HTML 预览
4. ✅ 输出转换后的 Markdown 预览
5. ✅ 在 `processNode` 中添加列表处理的调试日志

## 下一步

1. 在 ChatGPT 页面测试扩展
2. 查看浏览器控制台的调试输出
3. 找出内容丢失的具体位置
4. 修复转换逻辑

